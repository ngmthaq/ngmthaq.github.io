import{d as T,r as u,m as U,c as v,b as r,g as f,w as b,O as V,l as y,N as H,t as x,u as W,h as g}from"./index-BU-hhwBv.js";const F={class:"c-card container mx-auto"},I={class:"mb-4"},D={class:"mb-4"},A={key:0,class:"mb-4"},R={class:"mb-2 flex items-center justify-between"},q={class:"flex items-center gap-2"},G={class:"text-xs text-gray-500"},K={key:1,class:"mb-4 rounded-md border border-red-300 bg-red-50 p-3"},Q={class:"text-sm text-red-600"},Z=T({__name:"MinifyPrettifyPage",setup(X){const S=W(),c=u("javascript"),n=u(""),a=u(""),i=u(""),h=U(()=>!!i.value),C=()=>{if(i.value="",a.value="",!n.value.trim()){i.value="Please enter some code to minify.";return}try{switch(c.value){case"javascript":a.value=w(n.value);break;case"json":a.value=J(n.value);break;case"html":a.value=z(n.value);break;case"css":a.value=O(n.value);break}}catch(t){i.value=`Error minifying ${c.value}: ${t instanceof Error?t.message:"Unknown error"}`}},k=()=>{if(i.value="",a.value="",!n.value.trim()){i.value="Please enter some code to prettify.";return}try{switch(c.value){case"javascript":a.value=M(n.value);break;case"json":a.value=j(n.value);break;case"html":a.value=N(n.value);break;case"css":a.value=$(n.value);break}}catch(t){i.value=`Error prettifying ${c.value}: ${t instanceof Error?t.message:"Unknown error"}`}},w=t=>t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*$/gm,"").replace(/\s+/g," ").replace(/\s*([{}();,:])\s*/g,"$1").trim(),M=t=>{let e=t;const o=0,s=2;return e=e.replace(/{/g,` {
`+" ".repeat(o*s)).replace(/}/g,`
`+" ".repeat((o-1)*s)+"}").replace(/;/g,`;
`+" ".repeat(o*s)).replace(/,/g,`,
`+" ".repeat(o*s)),e=e.replace(/\n\s*\n/g,`
`),e.trim()},J=t=>{const e=JSON.parse(t);return JSON.stringify(e)},j=t=>{const e=JSON.parse(t);return JSON.stringify(e,null,2)},z=t=>t.replace(/>\s+</g,"><").replace(/\s+/g," ").replace(/\s*([<>])\s*/g,"$1").trim(),N=t=>{let e=t,o=0;const s=2;return e=e.replace(/(<[^>]+>)/g,`
$1
`).replace(/\n\s*\n/g,`
`),e.split(`
`).map(d=>{const l=d.trim();if(!l)return"";l.startsWith("</")&&(o=Math.max(0,o-1));const m=" ".repeat(o*s)+l;return l.startsWith("<")&&!l.startsWith("</")&&!l.endsWith("/>")&&o++,m}).filter(d=>d.trim()).join(`
`)},O=t=>t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\s+/g," ").replace(/\s*([{}:;,])\s*/g,"$1").replace(/;}/g,"}").trim(),$=t=>{let e=t;e=e.replace(/;/g,`;
`).replace(/{/g,` {
`).replace(/}/g,`
}
`);const o=e.split(`
`);let s=0;const p=2;return o.map(d=>{const l=d.trim();if(!l)return"";if(l==="}")return s=Math.max(0,s-1)," ".repeat(s*p)+l;const m=" ".repeat(s*p)+l;return l.includes("{")&&s++,m}).filter(d=>d.trim()).join(`
`)},L=async()=>{if(a.value)try{await navigator.clipboard.writeText(a.value),alert("Code copied to clipboard!")}catch(t){console.error("Failed to copy:",t);const e=document.createElement("textarea");e.value=a.value,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("Code copied to clipboard!")}},_=()=>{n.value="",a.value="",i.value=""},B=()=>{if(!n.value||!a.value)return"";const t=new Blob([n.value]).size,e=new Blob([a.value]).size,o=t>0?((t-e)/t*100).toFixed(1):"0";return t>e?`${o}% smaller`:t<e?`${Math.abs(parseFloat(o))}% larger`:"Same size"},E=()=>{S.go(-1)};return(t,e)=>(g(),v("div",F,[r("div",{class:"mb-4"},[r("button",{onClick:E,class:"rounded border border-gray-300 px-4 py-2 font-bold text-gray-800 hover:bg-gray-100"}," Back ")]),e[7]||(e[7]=r("h1",{class:"mb-4 text-2xl font-bold"},"Minify / Prettify Tool",-1)),e[8]||(e[8]=r("p",{class:"mb-4 rounded border border-blue-200 bg-blue-50 p-3 text-sm text-blue-600"}," ℹ️ Minify or beautify your code in JavaScript, JSON, HTML, and CSS formats. ",-1)),r("div",I,[e[4]||(e[4]=r("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Language:",-1)),b(r("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),class:"w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...e[3]||(e[3]=[r("option",{value:"javascript"},"JavaScript",-1),r("option",{value:"json"},"JSON",-1),r("option",{value:"html"},"HTML",-1),r("option",{value:"css"},"CSS",-1)])],512),[[V,c.value]])]),r("div",D,[r("div",{class:"mb-2 flex items-center justify-between"},[e[5]||(e[5]=r("label",{class:"block text-sm font-medium text-gray-700"},"Input Code:",-1)),r("div",{class:"flex gap-2"},[r("button",{onClick:C,class:"rounded bg-red-500 px-3 py-1 text-sm font-bold text-white hover:bg-red-700"}," Minify "),r("button",{onClick:k,class:"rounded bg-green-500 px-3 py-1 text-sm font-bold text-white hover:bg-green-700"}," Prettify "),r("button",{onClick:_,class:"rounded border border-gray-300 px-3 py-1 text-sm font-bold text-gray-800 hover:bg-gray-100"}," Clear ")])]),b(r("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o),placeholder:"Paste your code here...",class:H(["h-64 w-full resize-none rounded-md border border-gray-300 p-4 font-mono text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":h.value}])},null,2),[[y,n.value]])]),a.value?(g(),v("div",A,[r("div",R,[e[6]||(e[6]=r("label",{class:"block text-sm font-medium text-gray-700"},"Output:",-1)),r("div",q,[r("span",G,x(B()),1),r("button",{onClick:L,class:"rounded border border-gray-300 px-3 py-1 text-sm font-bold text-gray-800 hover:bg-gray-100"}," Copy ")])]),b(r("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.value=o),readonly:"",class:"h-64 w-full resize-none rounded-md border border-gray-300 bg-gray-50 p-4 font-mono text-sm shadow-sm"},null,512),[[y,a.value]])])):f("",!0),i.value?(g(),v("div",K,[r("p",Q,x(i.value),1)])):f("",!0)]))}});export{Z as default};
